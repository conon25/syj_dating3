syj_dating3 - Flutter app and spring-cloud micro services
========================================================
# 주요기능
### 로그인
<img
  src="./intro_login.jpg"
  width="216"
  height="468"
/>

#### 이메일 로그인
* 회원가입시 등록한 이메일과 비밀번호로 로그인합니다. 로그인에 성공하면 JWT토큰을 부여받아 secure_storage에 저장되어 다음에 앱을 켤때 자동으로 로그인 합니다.
#### 구글 로그인
* 구글 계정으로 로그인합니다. 로그인 성공시 구글에서 ID토큰을 발급받고 이 토큰을 이용해서 로그인합니다. 서버에서 토큰이 유효한지 검증하고 새로운 JWT토큰을 부여받습니다.

<br/>

### 회원 가입

<img
  src="./agree_service.jpg"
  width="216"
  height="468"
/>

#### 이메일로 프로필 생성하기
* 이메일과 비밀번호를 입력하여 계정을 생성합니다.
#### 구글계정으로 프로필 생성하기
* 구글 계정으로 로그인하여 회원가입하고 프로필 정보만 작성합니다.

<br/>

### 전화번호 인증

<img
  src="./phone_check.jpg"
  width="216"
  height="468"
/>
<img
  src="./phone_check2.jpg"
  width="216"
  height="468"
/>

#### 인증코드 받기
* 전화번호를 입력하고 전화번호로 인증번호를 받습니다.
#### 인증코드 검증하기
* 인증코드가 유효한지 검증하고 ID토큰은 부여받습니다. 마지막 회원가입 요청시 ID토큰을 검증합니다.

<br/>

### 회원가입 사진등록
<img
  src="./signup_reg_photo.jpg"
  width="216"
  height="468"
/>
#### 사진 업로드하기
* 카메라및 갤러리에서 사진을 선택하고 업로드합니다.

<br/>

### 내 프로필 설정 및 정보
<img
  src="./my_profile.jpg"
  width="216"
  height="468"
/>
#### 프로필 보기
* 내 프로필을 조회하고 수정합니다.
#### 앱 설정
* 설정 앱으로 이동합니다.
#### 로그아웃
* secure_storage 및 계정 데이터를 모두 지우고 로그인 페이지로 이동합니다.

<br/>

### 프로필 상세
<img
  src="./profile.jpg"
  width="216"
  height="468"
/>
#### 프로필 수정
* 내 프로필을 조회하고 수정합니다.

<br/>

### 내 근처 친구찾기 리스트
<img
  src="./around_list_page.jpg"
  width="216"
  height="468"
/>
#### 위치 권한 허용 및 내 위치 lat long 가져오기
* 위치 권한을 허용하면 내 기기 위치의 lat long을 측정합니다.
* lat long 값을 기반으로 근처 사용자의 리스트를 보여줍니다.
#### reverse geocoding으로 지역명 표시
* 구글 맵 API를 사용하여 지역명을 표시합니다.
<br/>

### 프로필 선택 및 좋아요 보내기
<img
  src="./profile_detail_sendlike.jpg"
  width="216"
  height="468"
/>
#### 좋아요 보내기
* 받은 좋아요 목록에 없는상대, 현재 채팅중이 아닌 상대, 보낸 좋아요 목록에 없는 상대 조건을 충족해야 좋아요를 보낼 수 있습니다.
* socket연결을 통해 실시간으로 좋아요 메세지를 보내며 알림 권한을 허용한 기기에는 FCM을 통해 Notification을 표시합니다.
* 네트워크 오류로 연결이 끊기면 연결을 재시도합니다
<br/>

### 받은 좋아요 리스트
<img
  src="./received_like2.jpg"
  width="216"
  height="468"
/>
#### 좋아요 메시지 수신
* 포그라운드 상태일때 socket연결을 통해 실시간으로 좋아요 메세지를 받습니다. 백그라운드 상태일때는 연결이 끊기므로 앱이 resume 될때 DB에서 내역을 불러옵니다.
* FCM을 통해 앱이 백그라운드 및 절전모드에 있어도 좋아요 Notification을 표시합니다.
<br/>

### 좋아요 받기
<img
  src="./receivelike.jpg"
  width="216"
  height="468"
/>
#### 좋아요 받기
* 현재 대화중이 아닌 상대일 경우 채팅방을 생성합니다.
<br/>

### 채팅방 리스트와 채팅방 개설
<img
  src="./chatroom_list.jpg"
  width="216"
  height="468"
/>
#### 채팅방 생성
* 상대에게 socket 및 fcm을 통해 채팅방 생성을 알리는 메세지를 보냅니다.
<br/>

### 친구와 채팅
<img
  src="./chat_page.jpg"
  width="216"
  height="468"
/>

<br/>

### 채팅방 나가기
<img
  src="./chat_page_exit.jpg"
  width="216"
  height="468"
/>

<br/>

### 매력평가 하기
<img
  src="./attraction_rating_page2.jpg"
  width="216"
  height="468"
/>

<br/>

### 친구 프로필 상세 페이지에서 매력 평가하기
<img
  src="./attraction_rating_detail_profile_page.jpg"
  width="216"
  height="468"
/>

<br/>

### 매력평가할 프로필 대기상태
<img
  src="./attraction_rating_page_waiting2.jpg"
  width="216"
  height="468"
/>

<br/>

### 불량유저 신고하기
<img
  src="./report_profile.jpg"
  width="216"
  height="468"
/>

친구찾기:
  온라인 탭: 탭을 열때 현재 동시접속유저 리스트를 가져오고 이후 접속유저는 socket을 통해 수신하여 리스트에 추가한다. (접속을 반복하는 유저가 중복되어 리스트에 추가되지 않도록 처리)
  근처 탭: 저장된 내 위치 값을 기준으로 주변 유저 리스트를 가져온다.
    프로필 상세: 저장된 해당 유저의 위치 값을 기반으로 역 지오코딩 값을 가져온다. 
                현재 접속중인지 표시한다. 
                사진및 프로필 정보를 출력한다.
      좋아요 버튼: 해당 유저에 좋아요를 전송한다. socket, FCM을 통해 좋아요를 송신한다. 이력을 저장한다.

매력평가: 매력평가를 위한 유저 리스트를 가져온다.
  별점주기: 별점을 눌러 해당 유저에 별점을 전송한다. socket, FCM을 통해 송신하고 이력을 저장한다.
    프로필 상세 및 좋아요 버튼 동일

좋아요: 받은좋아요 및 보낸 좋아요, 받음 별점등 이력을 조회한다.
  좋아요 받기: 버튼을 눌러 좋아요 송신자와 1:1 채팅방을 연다.

채팅 리스트: 참여중인 채팅방 리스트를 가져오고 socket 통해 새로운 채팅방 정보를 수신할 경우 처리한다.
  채팅: socket 통해 실시간으로 텍스트 데이터를 송수신 한다.
        local 저장소 및 서버에서 채팅 이력을 가져온다.

내 프로필: 프로필 및 앱 설정을 관리한다.
  프로필 수정: 프로필 정보와 사진을 수정한다.
  설정: 앱 권한및 설정 앱으로 이동한다.
  로그아웃: 메모리 및 스토리지에 저장된 데이터를 지우고 로그인 창으로 이동한다.
